# 実績セクション（Achievements）

このディレクトリには、ポートフォリオサイトの実績セクションを構成するコンポーネント群が含まれています。
スクロールベースのインタラクティブな実績表示を実現し、ユーザーエンゲージメントを高めます。

## 機能概要

### 1. スクロールベースのアニメーション
- スクロール位置に応じた実績バーの表示/非表示
- 背景画像のフェードイン/アウト
- 実績バーのアクティブ状態の制御

### 2. インタラクティブな実績表示
- クリックによる実績詳細の表示
- スムーズなアニメーションによる状態遷移
- レスポンシブな表示制御

### 3. 視覚的フィードバック
- 軌道アニメーションによる装飾
- ネオングラデーションカードによる表示枠
- インジケーターによるアクティブ状態の表示

## コンポーネント構成

### メインコンポーネント
- `index.tsx`: 実績セクションのメインコンポーネント
  - 全体のレイアウトとアニメーション制御
  - 状態管理とイベントハンドリング
  - 子コンポーネントの統合

### サブコンポーネント
1. `AchievementBar.tsx`: 実績バーコンポーネント
   - 通常時は縦長のバーとして表示
   - アクティブ時は上に浮き上がる
   - 拡大時は正方形または全幅に展開

2. `AchievementDetail.tsx`: 詳細表示コンポーネント
   - タイトル、説明文、リッチコンテンツの表示
   - 外部リンクの提供
   - アクセシビリティ対応

3. `BackgroundImages.tsx`: 背景画像管理コンポーネント
   - 実績ごとの画像切り替え
   - ブラーエフェクトとオーバーレイ
   - パフォーマンス最適化

4. `OrbitBackground.tsx`: 装飾的背景コンポーネント
   - 左右の円形軌道アニメーション
   - レスポンシブ対応
   - パフォーマンス最適化

5. `CloseButton.tsx`: 閉じるボタンコンポーネント
   - 詳細表示時の制御
   - アニメーション付きの表示/非表示

## アニメーションステップ

### 1. スクロールベースの表示制御
1. フェードイン開始（スクロール進捗20%）
2. フェードイン完了（スクロール進捗40%）
3. アクティブ状態の制御（スクロール進捗40-80%）
4. フェードアウト開始（スクロール進捗80%）
5. フェードアウト完了（スクロール進捗90%）

### 2. 実績バーのインタラクション
1. 通常状態（半透明の縦長バー）- `default`
2. アクティブ状態（不透明で上に浮く）- `active`
3. 拡大状態（正方形に展開）- `expanded`
4. 全幅表示（横幅いっぱいに展開）- `fullWidth`

### 3. 詳細表示のアニメーション
1. バーのクリック
   - 状態: `default` → `expanded`
   - トリガー: `handleBarClick`

2. 正方形への拡大
   - 状態: `expanded`
   - イベント: `onAnimationComplete("squareExpanded")`
   - 設定: `setIsExpanded(true)`

3. タイトルの表示
   - 状態: `titleVisible`
   - イベント: `onAnimationComplete("expanded")`
   - 設定: `setIsTitleVisible(true)`

4. 全幅表示への遷移
   - 状態: `fullWidth`
   - イベント: `onAnimationComplete("titleVisible")`
   - 設定: `setIsFullWidth(true)`

5. 詳細コンテンツのフェードイン
   - 状態: `detailVisible`
   - イベント: `onAnimationComplete("fullWidth")`
   - 設定: 
     - `setIsDetailVisible(true)`
     - `disableScroll()`

### 4. 閉じる動作のアニメーション
1. 閉じるボタンのクリック
   - トリガー: `handleClose`
   - 設定:
     - `enableScroll()`
     - `setIsDetailVisible(false)`
     - `setIsTitleVisible(false)`
     - `setIsFullWidth(false)`
     - `setIsExpanded(false)`
     - `setSelectedWork(null)`

## パフォーマンス最適化

### 1. 画像の最適化
- 適切なサイズ指定
- 画質の動的調整
- プリオリティローディング

### 2. アニメーションの最適化
- GPUアクセラレーション
- トランジションの最適化
- メモリリークの防止

### 3. レンダリングの最適化
- 条件付きレンダリング
- メモ化による再レンダリングの防止
- 効率的な状態管理

## アクセシビリティ

### 1. キーボード操作
- フォーカス可能な要素
- 適切なタブオーダー
- キーボードショートカット

### 2. スクリーンリーダー対応
- 適切なARIAラベル
- 意味のある代替テキスト
- 論理的なHTML構造

### 3. その他の配慮
- 十分なコントラスト比
- ダークモード対応
- レスポンシブデザイン

## 使用例

```tsx
import { Achievements } from './_components/achievements';

const works = [
  {
    id: 1,
    title: "プロジェクトA",
    description: "説明文...",
    thumbnail_url: "/images/project-a.jpg",
    content: "<p>詳細な説明...</p>",
    url: "https://example.com"
  },
  // ... 他の実績データ
];

export default function Page() {
  return <Achievements works={works} />;
}
```

## 注意事項

1. **パフォーマンス**
   - 大量の実績データを扱う場合は、仮想化を検討
   - 画像の最適化は必須
   - アニメーションの負荷に注意

2. **アクセシビリティ**
   - キーボード操作のサポート
   - スクリーンリーダーの対応
   - 十分なコントラスト比の確保

3. **メンテナンス**
   - コンポーネントの責務を明確に
   - 適切なエラーハンドリング
   - 十分なドキュメント化 