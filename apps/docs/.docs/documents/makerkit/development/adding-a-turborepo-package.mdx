---
title: 'Turborepoアプリケーションの追加'
description: 'Makerkitアプリケーションに新しいTurborepoアプリケーションを追加する方法を学ぶ'
icon: 'app-window'
order: 14
---

# Makerkitアプリケーションに新しいTurborepoアプリケーションを追加する

これは上級者向けのトピックです - モノレポ内に新しいアプリを配置し、Makerkitリポジトリから更新を引き続き取得したい場合にのみ、これらの手順に従ってください。

ある意味では、新しいリポジトリを作成することがアプリケーションを管理する最も簡単な方法かもしれません。ただし、アプリケーションをモノレポ内に保持し、Makerkitリポジトリから更新を取得したい場合は、以下の手順に従うことができます。

web以外の別のアプリケーションに更新を取り込むために、git subtreeを使用できます。

基本的に、apps/webにサブツリーを作成し、サブツリー用の新しいリモートブランチを作成します。新しいアプリケーションを作成するとき、サブツリーを新しいアプリケーションに取り込みます。これにより、apps/webフォルダと同期を保つことができます。

## 1. サブツリーを作成する

まず、apps/webフォルダのサブツリーを作成する必要があります。webという名前の新しいブランチを作成し、apps/webフォルダのサブツリーを作成します。web-branchという名前のブランチを作成し、apps/webフォルダのサブツリーを作成します。

```bash
git subtree split --prefix=apps/web --branch web-branch
```

## 2. 新しいアプリケーションを作成する

これで、appsフォルダに新しいアプリケーションを作成できます。例えば、apiという名前の新しいアプリケーションを作成しましょう。

apps/webフォルダと同じ構造を持つapps/pdf-chatにpdf-chatという新しいアプリを作成したいとします（apps/webはすべての新しいアプリのテンプレートとして機能します）。

```bash
git subtree add --prefix=apps/pdf-chat origin web-branch --squash
```

これで、apps/pdf-chatフォルダにapps/webフォルダの内容が表示されるはずです。

## 3. 新しいアプリケーションを更新する

新しいアプリケーションを更新したい場合は、以下の手順に従ってください：

### Makerkitリポジトリから更新を取得する

以下のコマンドは、Makerkitリポジトリからすべての変更を更新します：

```bash
git pull upstream main
```

### web-branchの更新をプッシュする

Makerkitリポジトリから更新を取得した後、ブランチを再度分割し、更新をweb-branchにプッシュできます：

```bash
git subtree split --prefix=apps/web --branch web-branch
```

これで、更新をweb-branchにプッシュできます：

```bash
git push origin web-branch
```

### 新しいアプリケーションに更新を取り込む

これで、新しいアプリケーションに更新を取り込むことができます：

```bash
git subtree pull --prefix=apps/pdf-chat origin web-branch --squash
```

## 注意点と利点

このアプローチを使用する際の注意点と利点は以下の通りです：

### 注意点
- git subtreeの操作は複雑になる可能性があり、チームメンバー全員がこの概念を理解する必要があります
- マージ競合が発生する可能性があり、解決が難しい場合があります
- 大規模なリポジトリでは、サブツリー操作が遅くなる可能性があります

### 利点
- 単一のリポジトリ内で複数のアプリケーションを管理できます
- コードの共有と再利用が容易になります
- Makerkitの更新を複数のアプリケーションに適用できます
- 依存関係の管理が簡素化されます

このアプローチは、複数のアプリケーションを持つ大規模なプロジェクトや、Makerkitの更新を複数のアプリケーションに適用したい場合に特に役立ちます。
