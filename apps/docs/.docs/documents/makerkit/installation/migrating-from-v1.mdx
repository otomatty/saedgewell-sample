---
title: 'Makerkit v1からの移行ガイドライン'
description: 'Makerkit v1からNext.js SaaSボイラープレートへの移行ガイドライン。'
icon: 'arrow-right'
order: 10
---

# Makerkit v1からの移行ガイドライン

🚀 Makerkit v1からNext.js SaaSボイラープレートへの移行の旅へようこそ！

このガイドは、2つのバージョン間の変更点を理解し、プロジェクトを新しいv2に移行するのに役立つように設計されています。経験豊富な開発者でも初心者でも、このガイドがサポートします！

以下は、あなたが行うステップのロードマップです：

1. 新しいプロジェクトの起動：Next.js SaaSボイラープレートv2を使用して新しいプロジェクトを開始 🎉
2. スキーマの更新：Postgresスキーマの外部キー参照を調整し、既存のテーブルを統合 🧩
3. 古いアプリからファイルの移動：ファイルを新しいアプリ構造に移行 📦
4. 既存ファイルのインポートの更新：新しいファイル構造に合わせてインポートを更新 🔄
5. 設定の更新：設定ファイルを新しいスキーマに合わせて変更 ⚙️

## 1. 新しいプロジェクトの起動

Next.js SaaSボイラープレートはMakerkit v1の新しいアプローチです。この革新的なボイラープレートを使用して新しいプロジェクトを作成する必要があります。インストールガイドに従って、新しいプロジェクトをすぐに稼働させましょう！

## 2. スキーマの更新

Next.js SaaSボイラープレートのスキーマはMakerkit v1から大幅に進化しています。Postgresスキーマを新しいものに合わせて更新する必要があります。

以前は、組織IDに外部キーを設定していました：

```sql
organization_id bigint not null references organizations(id) on delete cascade,
```

現在は、UUIDとしてアカウントIDに外部キーを設定します：

```sql
account_id uuid not null references public.accounts(id) on delete cascade,
```

v2では、アカウントはユーザーまたは組織の両方になることができます。そのため、v1のように組織IDを参照する代わりに、アカウントIDを参照するようになりました。

## 3. 古いアプリからファイルの移動

v2では、これらのファイルを「ユーザースコープ」（/home）または「アカウントスコープ」（/home/[account]）のいずれかに追加する柔軟性があります。プロジェクトのニーズに最も適したものを選択してください。

## 4. 既存ファイルのインポートの更新

既存のファイルへのインポートを新しいファイル構造に合わせて更新する必要があります。これは、Makerkitからインポートしたすべてのコンポーネントとユーティリティに適用されます。例えば、以前は `~/core/ui/Button` からインポートされていたボタンは、現在は `@kit/ui/button` からインポートされます。

## 5. 設定の更新

最後に、設定ファイルを新しいスキーマに合わせて更新する必要があります。設定は現在、`apps/web/config` の様々なファイルに分割されています。特に課金スキーマに注意してください。これは現在より汎用的（そしてやや複雑）になっています。

準備はできましたか？さあ、始めましょう！🏊‍♀️
